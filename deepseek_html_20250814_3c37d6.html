<%- include('../partials/header') %>

<section class="product-page">
  <div class="container">
    <div class="product-container">
      <div class="product-gallery">
        <div class="product-thumbnails">
          <% product.images.forEach((image, index) => { %>
            <img src="/images/<%= image %>" 
                 alt="<%= product.name %>" 
                 class="product-thumbnail <%= index === 0 ? 'active' : '' %>"
                 data-main="/images/<%= image %>">
          <% }); %>
        </div>
        <div class="product-main-image">
          <img src="/images/<%= product.images[0] %>" 
               alt="<%= product.name %>" 
               class="product-main-img">
        </div>
      </div>
      
      <div class="product-info">
        <h1><%= product.name %></h1>
        <div class="product-price">$<%= product.price.toFixed(2) %></div>
        <% if (product.inventory < 5) { %>
          <div class="inventory-warning">Only <%= product.inventory %> left in stock!</div>
        <% } %>
        <div class="product-description">
          <p><%= product.description %></p>
        </div>
        
        <div class="product-details">
          <h3>Details</h3>
          <ul>
            <li><strong>Light:</strong> <%= product.details.light %></li>
            <li><strong>Water:</strong> <%= product.details.water %></li>
            <li><strong>Humidity:</strong> <%= product.details.humidity %></li>
            <li><strong>Difficulty:</strong> <%= product.details.difficulty %></li>
            <li><strong>Pet Friendly:</strong> <%= product.details.petFriendly ? 'Yes' : 'No' %></li>
            <li><strong>Height:</strong> <%= product.details.height %></li>
            <li><strong>Pot Size:</strong> <%= product.details.potSize %></li>
          </ul>
        </div>
        
        <div class="add-to-cart-form">
          <div class="quantity-selector">
            <button class="quantity-btn minus">-</button>
            <input type="number" class="quantity-input" value="1" min="1" max="<%= product.inventory %>">
            <button class="quantity-btn plus">+</button>
          </div>
          <button class="btn add-to-cart" 
                  data-id="<%= product.id %>" 
                  data-name="<%= product.name %>" 
                  data-price="<%= product.price %>" 
                  data-image="/images/<%= product.images[0] %>">
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<%- include('../partials/footer') %>

<script src="/js/products.js"></script>